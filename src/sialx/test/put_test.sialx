sial put_test
	special list_block_map
	special print_block r
	predefined int norb
	aoindex i = 1,norb
	aoindex j = 1,norb
	temp t(i, j)
	local x(i, j)
	local y(i, j)
	distributed b(i,j)
	distributed c(i,j)
	
	create b
	create c
	allocate x(*, *)
	allocate y(*, *)
	
	println "Sending blocks"	
	do i
		print_index i
		execute list_block_map
		do j
			print_index j
			t(i,j) = 1.0
			put b(i,j) = t(i,j)
			put c(i,j) += t(i,j)
			put c(i,j) += t(i,j)
			execute print_block b(i,j)
			execute print_block c(i,j)
		enddo j
	enddo i
	
	execute list_block_map
	
	sip_barrier
	
	println "Getting blocks"
	do i
		do j
			get b(i,j) 
			get c(i,j) 
			execute print_block b(i,j)
			execute print_block c(i,j)
			x(i, j) = b(i, j)
			y(i, j) = c(i, j)
		enddo j
	enddo i
	
	sip_barrier
	
	println "block map after both do:"
	execute list_block_map
	
	delete b
	delete c
	println "block map after deallocates:"
	execute list_block_map
	println "end of sial program put"
	
endsial put_test